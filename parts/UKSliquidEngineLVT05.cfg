// Rescale LV-T30 to .625m

+PART[liquidEngine_v2]:NEEDS[!ReStock]
 {
	-TechHidden = false // 'liquidEngine' is hidden and misses cost/category definitions @ 1.12.2
	@category = Engine   
	@entryCost = 3200   

	@name = UKSliquidEngineLVT05
	@TechRequired = basicRocketry
	@node_stack_top = 0.0, 7, 0.0, 0.0, 1.0, 0.0, 0
	@node_stack_bottom = 0.0, -7, 0.0, 0.0, -1.0, 0.0, 0
	@fx_exhaustFlame_blue_small = 0.0, -10.3, 0.0, 0.0, 1.0, 0.0, running
	@fx_exhaustLight_blue = 0.0, -10.3, 0.0, 0.0, 0.0, 1.0, running
	@fx_smokeTrail_light = 0.0, -10.3, 0.0, 0.0, 1.0, 0.0, running
	@fx_exhaustSparks_flameout = 0.0, -10.3, 0.0, 0.0, 1.0, 0.0, flameout
	@entryCost *= .5
	@cost *= .5
	@mass = .156
	@title = #LOC_UKS_liquidEngineLVT05_title
	@description = #LOC_UKS_liquidEngineLVT05_description
	@bulkheadProfiles = size0
	rescaleFactor = 0.62
	
	@MODULE[ModuleEngines*]
	{
		@maxThrust = 23
		
		!atmosphereCurve {}
	    atmosphereCurve
		{
		  key = 0 245
		  key = 1 205
		  key = 7 0.001
		}
	}
	!DRAG_CUBE{}
	DRAG_CUBE
	{
		cube = 0, 0.5807,0.7669,0.4076, 0.5807,0.7671,0.4076, 0.2272,0.7547,1.05, 0.2272,0.737,0.9808, 0.5854,0.7665,0.4109, 0.5854,0.7664,0.4109, -2.384E-07,0.02358,-7.212E-06, 0.625,0.9797,0.625
		cube = 1, 0.4025,0.7397,0.5371, 0.4025,0.7531,0.4085, 0.2987,1,0.2119, 0.2987,0.406,0.7753, 0.4169,0.7583,0.4085, 0.4169,0.7582,0.4085, 6.634E-05,0.03869,-7.272E-06, 0.6201,0.9495,0.6201
		cube = 2, 0.5856,0.7663,0.4076, 0.5856,0.7664,0.5306, 0.1511,0.6238,1.05, 0.1511,0.7113,1.009, 0.5855,0.7655,0.4109, 0.5855,0.7654,0.4109, -6.688E-05,0.02358,-0.0009382, 0.625,0.9797,0.625
		cube = 3, 0.5807,0.7669,0.4076, 0.5807,0.7671,0.4076, 0.2272,0.7547,1.05, 0.2272,0.737,0.9808, 0.5854,0.7665,0.4109, 0.5854,0.7664,0.4109, -2.384E-07,0.02358,-7.093E-06, 0.625,0.9797,0.625
		cube = 4, 0.4025,0.7397,0.5371, 0.4025,0.7531,0.4085, 0.2987,1,0.2119, 0.2987,0.406,0.7753, 0.4169,0.7583,0.4085, 0.4169,0.7582,0.4085, 6.631E-05,0.03869,-7.242E-06, 0.6201,0.9495,0.6201
		cube = 5, 0.5856,0.7663,0.4076, 0.5856,0.7664,0.5306, 0.1511,0.6238,1.05, 0.1511,0.7113,1.009, 0.5855,0.7655,0.4109, 0.5855,0.7654,0.4109, -6.688E-05,0.02358,-0.0009381, 0.625,0.9797,0.625
	}

}

+PART[liquidEngine_v2]:AFTER[000_ReStock]
 {
	-TechHidden = false // 'liquidEngine' is hidden and misses cost/category definitions @ 1.12.2
	@category = Engine   
	@entryCost = 3200   

	@name = UKSliquidEngineLVT05
	@TechRequired = basicRocketry
	@node_stack_top = 0.0, 0.885, 0.0, 0.0, 0.25, 0.0, 0, 1
	@node_stack_bottom = 0.0, -0.91, 0.0, 0.0, -0.25, 0.0, 0, 1
	@entryCost *= .5
	@cost *= .5
	@mass = .156
	@title = #LOC_UKS_liquidEngineLVT05_title
	@description = #LOC_UKS_liquidEngineLVT05_description
	@bulkheadProfiles = size0
	@rescaleFactor = 0.5
	
	@MODULE[ModuleEngines*]
	{
		@maxThrust = 23
		
		!atmosphereCurve
	    atmosphereCurve
		{
		  key = 0 245
		  key = 1 205
		  key = 7 0.001
		}
	}
	!DRAG_CUBE{}
	DRAG_CUBE
	{
		cube = 0, 0.5807,0.7669,0.4076, 0.5807,0.7671,0.4076, 0.2272,0.7547,1.05, 0.2272,0.737,0.9808, 0.5854,0.7665,0.4109, 0.5854,0.7664,0.4109, -2.384E-07,0.02358,-7.212E-06, 0.625,0.9797,0.625
		cube = 1, 0.4025,0.7397,0.5371, 0.4025,0.7531,0.4085, 0.2987,1,0.2119, 0.2987,0.406,0.7753, 0.4169,0.7583,0.4085, 0.4169,0.7582,0.4085, 6.634E-05,0.03869,-7.272E-06, 0.6201,0.9495,0.6201
		cube = 2, 0.5856,0.7663,0.4076, 0.5856,0.7664,0.5306, 0.1511,0.6238,1.05, 0.1511,0.7113,1.009, 0.5855,0.7655,0.4109, 0.5855,0.7654,0.4109, -6.688E-05,0.02358,-0.0009382, 0.625,0.9797,0.625
		cube = 3, 0.5807,0.7669,0.4076, 0.5807,0.7671,0.4076, 0.2272,0.7547,1.05, 0.2272,0.737,0.9808, 0.5854,0.7665,0.4109, 0.5854,0.7664,0.4109, -2.384E-07,0.02358,-7.093E-06, 0.625,0.9797,0.625
		cube = 4, 0.4025,0.7397,0.5371, 0.4025,0.7531,0.4085, 0.2987,1,0.2119, 0.2987,0.406,0.7753, 0.4169,0.7583,0.4085, 0.4169,0.7582,0.4085, 6.631E-05,0.03869,-7.242E-06, 0.6201,0.9495,0.6201
		cube = 5, 0.5856,0.7663,0.4076, 0.5856,0.7664,0.5306, 0.1511,0.6238,1.05, 0.1511,0.7113,1.009, 0.5855,0.7655,0.4109, 0.5855,0.7654,0.4109, -6.688E-05,0.02358,-0.0009381, 0.625,0.9797,0.625
	}
}

@PART[UKSliquidEngineLVT05]:NEEDS[MissingHistory,!ReStock]:BEFORE[zzzUnKerballedStart]
{
	@node_stack_top = 0.0, 0.45, 0.0, 0.0, 1.0, 0.0, 0
	@node_stack_bottom = 0.0, -0.42, 0.0, 0.0, -1.0, 0.0, 0
}

@PART[UKSliquidEngineLVT05]:NEEDS[SmokeScreen,!ReStock]:AFTER[zzzUnKerballedStart]
{
    PLUME
    {
        name = Kerolox-Lower
        transformName = thrustTransform
        localRotation = 0,0,0
        flarePosition = 0,0,0.1
        plumePosition = 0,0,0.3
        plumeScale = 0.15
        flareScale = 0.3
        energy = 1.0
        speed = 0.6
    }
    @MODULE[ModuleEngines*]
    {
        %powerEffectName = Kerolox-Lower
	    !runningEffectName = DELETE
    }
}

@PART[UKSliquidEngineLVT05]:NEEDS[Waterfall,UnKerballedStart]:AFTER[zzzUnKerballedStart]
{

  !EFFECTS {}
!MODULE[EngineLightEffect] {}

  EFFECTS
  {
    engage
    {
      AUDIO
      {
        channel = Ship
        clip = sound_vent_soft
        volume = 1.0
        pitch = 2.0
        loop = false
      }
    }
    flameout
    {
      AUDIO
      {
        channel = Ship
        clip = sound_explosion_low
        volume = 1.0
        pitch = 2.0
        loop = false
      }
    }
    fx-LVT05-running
    {
			AUDIO
			{
				channel = Ship
				clip = Waterfall/Sounds/KW/sound_altloop2
				volume = 0.0 0.0
				volume = 0.1 0.3
				volume = 1.0 0.8
				pitch = 0.0 0.7
				pitch = 1.0 1.0
				loop = true
			}
      PREFAB_PARTICLE
      {
        prefabName = fx_smokeTrail_veryLarge
        transformName = smokePoint
        emission = 0.0 0.0
        emission = 0.05 0.0
        emission = 0.075 0.25
        emission = 1.0 1.25
        speed = 0.0 0.25
        speed = 1.0 1.0
        localOffset = 0, 0, 1
      }
    }
  }
	MODULE
	{
		name = ModuleWaterfallFX
		moduleID = LVT05FX
		CONTROLLER
		{
			name = atmosphereDepth
			linkedTo = atmosphere_density
		}
		CONTROLLER
		{
			name = throttle
			linkedTo = throttle
			engineID = 
			responseRateUp = 100
			responseRateDown = 100
		}
		CONTROLLER
		{
			name = random
			linkedTo = random
			noiseType = random
			range = -1,1
		}
		TEMPLATE
		{
			templateName = waterfall-kerolox-lower-1
			overrideParentTransform = thrustTransform
			scale = 0.680000007,0.680000007,0.5
			rotation = 0,0,0
			position = 0,0,0.0649999976
		}
	}
}
